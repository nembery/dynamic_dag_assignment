name: dynamic_dag_assignment_workflow
label: Workflow for dynamic DAG assignment
description: |
  This workflow steps through the elements to provide a user dropdown DAG list
  and assign a user into the DAG based on their IP address

type: workflow

labels:
    collection:
      - Dynamic DAG

variables:
  - name: TARGET_IP
    description: NGFW IP or Hostname
    default: 192.168.55.10
    type_hint: fqdn_or_ip
  - name: TARGET_USERNAME
    description: NGFW Username
    default: admin
    type_hint: text
  - name: TARGET_PASSWORD
    description: NGFW Password
    default: admin
    type_hint: password

snippets:
  # get existing dag filter names to use in dropdown list
  - name: panorama_get_dag_list

  # register or unregister user based on dag filter and ip address
  - name: panorama_register_unregister_dag_user